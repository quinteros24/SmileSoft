
<!DOCTYPE html>
<html lang="es">
<!-- data-bs-theme="dark" -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - WebSmileSoft</title>
    <!-- Theme -->
    <script src="~/assets/js/changetheme.js"></script>
    <script>
        window.addEventListener('resize', function () {
            var navElement = document.getElementById('sidebar'); // Get the <nav> element by its ID

            if (window.innerWidth < 425) {
                navElement.classList.add('toggled'); // Add the "toggled" class
            } else {
                navElement.classList.remove('toggled'); // Remove the "toggled" class
            }
        });
        
    </script>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="~/assets/bootstrap/css/bootstrap.min.css" asp-append-version="true">

    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="~/assets/css/Nunito.css" asp-append-version="true">
    <link rel="stylesheet" href="~/assets/css/site.css" asp-append-version="true" />
    <link href="~/assets/css/sidebar.css" rel="stylesheet" />

    @*     <link href="~/assets/css/sweetdark.css" rel="stylesheet" asp-append-version="true" />
    *@    <!-- Custom fonts for this template -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" asp-append-version="true" />

    <!-- Custom Icons for this template -->
    <link href="~/assets/css/footer-clean-icons.css" rel="stylesheet" />

    <!-- Custom Animations for this template -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" asp-append-version="true">


    <!-- BEGIN PAGE LEVEL CUSTOM STYLES -->
    <link href="https://cdn.datatables.net/v/bs5/jszip-3.10.1/dt-1.13.6/af-2.6.0/b-2.4.2/b-html5-2.4.2/b-print-2.4.2/kt-2.10.0/r-2.5.0/sr-1.3.0/datatables.min.css" rel="stylesheet">

    <!-- END Calendar Script -->
    <script src="~/assets/js/utilities.js" asp-append-version="true"></script>
    <!-- Generar PDF-->
    <script src="~/assets/js/officesitetheme.js" asp-append-version="true"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>


    @await Component.InvokeAsync("CommonData")
</head>


<body id="page-top">

    <div id="load_screen">
        <div class="dots-container">
            <svg height="108px" width="108px" viewBox="0 0 128 128" class="loader">
                <defs>
                    <clipPath id="loader-eyes">
                        <circle transform="rotate(-40,64,64) translate(0,-56)" r="8" cy="64" cx="64" class="loader__eye1"></circle>
                        <circle transform="rotate(40,64,64) translate(0,-56)" r="8" cy="64" cx="64" class="loader__eye2"></circle>
                    </clipPath>
                    <linearGradient y2="1" x2="0" y1="0" x1="0" id="loader-grad">
                        <stop stop-color="#000" offset="0%"></stop>
                        <stop stop-color="#fff" offset="100%"></stop>
                    </linearGradient>
                    <mask id="loader-mask">
                        <rect fill="url(#loader-grad)" height="128" width="128" y="0" x="0"></rect>
                    </mask>
                </defs>
                <g stroke-dasharray="175.93 351.86" stroke-width="12" stroke-linecap="round">
                    <g>
                        <rect clip-path="url(#loader-eyes)" height="64" width="128" fill="hsl(193,90%,50%)"></rect>
                        <g stroke="hsl(193,90%,50%)" fill="none">
                            <circle transform="rotate(180,64,64)" r="56" cy="64" cx="64" class="loader__mouth1"></circle>
                            <circle transform="rotate(0,64,64)" r="56" cy="64" cx="64" class="loader__mouth2"></circle>
                        </g>
                    </g>
                    <g mask="url(#loader-mask)">
                        <rect clip-path="url(#loader-eyes)" height="64" width="128" fill="hsl(223,90%,50%)"></rect>
                        <g stroke="hsl(223,90%,50%)" fill="none">
                            <circle transform="rotate(180,64,64)" r="56" cy="64" cx="64" class="loader__mouth1"></circle>
                            <circle transform="rotate(0,64,64)" r="56" cy="64" cx="64" class="loader__mouth2"></circle>
                        </g>
                    </g>
                </g>
            </svg>
        </div>
    </div>
    <div id="wrapper">
        <!-- Sidebar -->
        @await Component.InvokeAsync("Sidebar")

        <div class="d-flex flex-column" id="content-wrapper">
            <!-- navBar -->
            @await Component.InvokeAsync("Navbar")

            <div class="container-fluid" id="SiteContainerRender">
                <main role="main">
                    <!-- Page Content -->
                    @RenderBody()
                </main>
            </div>

            <!-- Footer -->

        </div>@* @await Component.InvokeAsync("Footer") *@
    </div> @* <a class="border rounded d-inline scroll-to-top" href="#page-top" style="display:none"><i class="fas fa-angle-up"></i></a> *@

    @* <a href="https://api.whatsapp.com/send?phone=3024214750&text=Hola%21%20Quisiera%20m%C3%A1s%20informaci%C3%B3n%20." class="float" target="_blank">
    <i class="fa-brands fa-whatsapp my-float "></i>
    </a> *@

    <div id="logout-link" data-logout-url="@Url.Action("Login", "Account")"></div>



    <!-- Custom Theme Script -->
    @* <script src="~/assets/js/theme.js" asp-append-version="true"></script> *@

    <!-- Bootstrap core JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js" asp-append-version="true"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" asp-append-version="true"></script>

    <!-- Core plugin JavaScript -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" asp-append-version="true"></script>

    <!-- Custom scripts for all pages -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.31/dist/sweetalert2.all.min.js"></script>

    <script>
        function checkTokenAndRedirect() { sessionStorage.getItem("accessToken") ? 0 == sessionStorage.getItem("userStatus") && (console.log("Cuenta Inactiva"), sessionStorage.clear(), window.location.href = '@Url.Action("Login", "Account")') : window.location.href = '@Url.Action("Login", "Account")' } checkTokenAndRedirect(), setInterval(checkTokenAndRedirect, 6e4), $(document).ready(function () { var e = sessionStorage.getItem("userRole"); mostrarElementosPorRol(e), CambiarVinculoLogo(e), verifyToken() });
    </script>

    <script>
        const whatsappLink = document.getElementById("whatsappLink"), urlAPI = `${sessionStorage.urlEP}/api/Generics/v1/GetContactNumber?oID=1`; async function getWhatsAppNumber() { try { const e = await fetch(urlAPI, { method: "PUT" }); if (!e.ok) throw new Error("No se pudo obtener el número de WhatsApp."); const t = await e.json(); whatsappLink.href = `https://api.whatsapp.com/send?phone=${encodeURIComponent(t.itemJson)}&text=${encodeURIComponent("Hola! Quisiera más información.")}` } catch (e) { console.error(e) } } getWhatsAppNumber();
    </script>

    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

    <script>
        $(document).ready(function () {
            let uID = sessionStorage.getItem("userID");
            $.ajax({
                url: sessionStorage.urlEP + '/api/Generics/v1/GetDataSite?uID=' + uID,
                type: 'GET',
                contentType: "application/json",
                dataType: 'json',
                success: function (response) {
                    localStorage.setItem("urlImageLogin", response.itemJson.urlImageLogin);
                    localStorage.setItem("urlImageMenu", response.itemJson.urlImageMenu);
                    localStorage.setItem("backgroundColor", response.itemJson.backgroundColor);
                    localStorage.setItem("topColor", response.itemJson.topColor);
                    localStorage.setItem("sideColor", response.itemJson.sideColor);
                    $('#navLogo').attr('src', response.itemJson.urlImageMenu);
                }
            });
            var sidebar = document.getElementById("sidebar"); // Reemplaza "sidebar" con el ID real de tu barra lateral.
            var toggleButton = document.getElementById("sidebarToggleTop");

            toggleButton.addEventListener("click", function () {
                if (sidebar.classList.contains("toggled")) {
                    sidebar.classList.remove("toggled");
                } else {
                    sidebar.classList.add("toggled");
                }
            });
        });
    </script>
    <script src="~/assets/js/usersessioncontrol.js"></script>
    <!-- BEGIN PAGE LEVEL CUSTOM SCRIPTS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/v/bs5/jszip-3.10.1/dt-1.13.6/af-2.6.0/b-2.4.2/b-html5-2.4.2/b-print-2.4.2/r-2.5.0/sc-2.2.0/datatables.min.js"></script>
    <!-- END PAGE LEVEL CUSTOM SCRIPTS -->
    @await RenderSectionAsync("Scripts", required: false)

</body>
</html>