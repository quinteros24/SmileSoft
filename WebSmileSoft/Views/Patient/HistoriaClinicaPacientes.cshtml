@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<div class="container mt-5">
    <h1 class="mb-4">Historia Clínica del Paciente</h1>

    <!-- Información del Paciente -->
    <div class="card mb-4">
        <div class="card-header">
            Información del Paciente
        </div>
        <div class="card-body">
            <h5 class="card-title">Nombre del Paciente</h5>
            <p class="card-text"><strong>Fecha de Nacimiento:</strong> 01/01/1980</p>
            <p class="card-text"><strong>Género:</strong> Masculino</p>
            <p class="card-text"><strong>Teléfono:</strong> (123) 456-7890</p>
            <p class="card-text"><strong>Correo Electrónico:</strong> paciente@example.com</p>
            <p class="card-text"><strong>Dirección:</strong> Calle Principal, Ciudad</p>
        </div>
    </div>

    <!-- Historia Clínica -->
    <div class="card">
        <div class="card-header">
            Historia Clínica
        </div>
        <div class="card-body">
            <!-- Registro de Visitas Médicas -->
            <h5 class="card-title">Registro de Visitas Médicas</h5>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Médico</th>
                        <th>Diagnóstico</th>
                        <th>Tratamiento</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2023-01-15</td>
                        <td>Dr. López</td>
                        <td>Gripe</td>
                        <td>Medicación y reposo</td>
                    </tr>
                    <tr>
                        <td>2022-08-20</td>
                        <td>Dr. Pérez</td>
                        <td>Presión Alta</td>
                        <td>Medicación y dieta</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="mb-3">
        <button id="generate-pdf" class="btn btn-secondary">Generar PDF</button>
        <button id="print-page" class="btn btn-secondary">Imprimir</button>
    </div>
</div>

@section Scripts{
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Tu código de generación de PDF aquí
            function generatePDF() {
                const pdf = new jsPDF();

                // Agregar contenido al PDF
                pdf.text("Historia Clínica de [Nombre del Paciente]", 10, 10);
                pdf.text("Información Personal", 10, 20);
                pdf.text("Nombre: [Nombre del Paciente]", 20, 30);
                pdf.text("Edad: [Edad del Paciente]", 20, 40);
                pdf.text("Fecha de Nacimiento: [Fecha de Nacimiento]", 20, 50);

                pdf.text("Historial Médico", 10, 70);
                pdf.text("Diagnóstico: [Diagnóstico]", 20, 80);
                pdf.text("Tratamiento: [Tratamiento]", 20, 90);
                // Puedes agregar más contenido según sea necesario

                // Guardar o descargar el PDF
                pdf.save("HistoriaClinica.pdf");
            }

            // Manejar clic en el botón "Generar PDF"
            $("#generate-pdf").click(function () {
                generatePDF();
            });

            // Manejar clic en el botón "Imprimir"
            $("#print-page").click(function () {
                window.print();
            });
        });
    </script>
}