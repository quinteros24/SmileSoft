@{
    ViewData["Title"] = "Perfil";
}


<nav aria-label="breadcrumb" class="main-breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item">@* <a asp-controller="Home" asp-action="Index">Inicio</a> *@Inicio</li>
        <li class="breadcrumb-item">Usuario</li>
        <li class="breadcrumb-item active" aria-current="page">
            Ajustes de Usuario
        </li>
    </ol>
</nav>

<div class="row gutters-sm">
    <div class="col-md-4 d-none d-md-block">
        <div class="card">
            <div class="card-body">
                <nav class="nav flex-column nav-pills nav-gap-y-1">
                    <a href="#profile"
                       data-toggle="tab"
                       class="nav-item nav-link has-icon nav-link-faded active">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width="24"
                             height="24"
                             viewBox="0 0 24 24"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2"
                             stroke-linecap="round"
                             stroke-linejoin="round"
                             class="feather feather-user mr-2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>Información Personal
                    </a>

                    <a href="#security"
                       data-toggle="tab"
                       class="nav-item nav-link has-icon nav-link-faded">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width="24"
                             height="24"
                             viewBox="0 0 24 24"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2"
                             stroke-linecap="round"
                             stroke-linejoin="round"
                             class="feather feather-shield mr-2">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        </svg>Seguridad
                    </a>

                    <!-- Mostrar Datos Medicos (Desactivado Sprint 2) -->
                    @* <a href="#medicaldata"
                    data-toggle="tab"
                    class="nav-item nav-link has-icon nav-link-faded">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-clipboard2-pulse-fill" viewBox="0 0 16 16">

                    <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5Z" />
                    <path d="M4.085 1H3.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1h-.585c.055.156.085.325.085.5V2a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 2v-.5c0-.175.03-.344.085-.5ZM9.98 5.356 11.372 10h.128a.5.5 0 0 1 0 1H11a.5.5 0 0 1-.479-.356l-.94-3.135-1.092 5.096a.5.5 0 0 1-.968.039L6.383 8.85l-.936 1.873A.5.5 0 0 1 5 11h-.5a.5.5 0 0 1 0-1h.191l1.362-2.724a.5.5 0 0 1 .926.08l.94 3.135 1.092-5.096a.5.5 0 0 1 .968-.039Z" />
                    </svg>
                    Datos Medicos
                    </a> *@
                    <a href="#account"
                       data-toggle="tab"
                       class="nav-item nav-link has-icon nav-link-faded">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width="24"
                             height="24"
                             viewBox="0 0 24 24"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2"
                             stroke-linecap="round"
                             stroke-linejoin="round"
                             class="feather feather-settings mr-2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>Opciones de Cuenta
                    </a>

                </nav>
            </div>
        </div>
        <div class="card shadow mb-4 my-2">
            <div class="mx-3 py-3">
                <h6 class="text-primary fw-bold m-0">Anuncios</h6>
            </div>
            <partial name="Anuncios" />
        </div>
    </div>
    <div class="col-md-8">
        <div class="card">
            <div class="card-header border-bottom mb-3 d-flex d-md-none">
                <ul class="nav nav-tabs card-header-tabs nav-gap-x-1"
                    role="tablist">
                    <li class="nav-item">
                        <a href="#profile"
                           data-toggle="tab"
                           class="nav-link has-icon active">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 width="24"
                                 height="24"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor"
                                 stroke-width="2"
                                 stroke-linecap="round"
                                 stroke-linejoin="round"
                                 class="feather feather-user">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#account" data-toggle="tab" class="nav-link has-icon">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 width="24"
                                 height="24"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor"
                                 stroke-width="2"
                                 stroke-linecap="round"
                                 stroke-linejoin="round"
                                 class="feather feather-settings">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                            </svg>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#security"
                           data-toggle="tab"
                           class="nav-link has-icon">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 width="24"
                                 height="24"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor"
                                 stroke-width="2"
                                 stroke-linecap="round"
                                 stroke-linejoin="round"
                                 class="feather feather-shield">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                            </svg>
                        </a>
                    </li>
                    @* <li class="nav-item">
                    <a href="#notification"
                    data-toggle="tab"
                    class="nav-link has-icon">
                    <svg xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="feather feather-bell">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                    </a>
                    </li> *@

                </ul>
            </div>
            <div class="card-body tab-content">
                <!-- Datos Basicos -->

                <partial name="DatosBasicos" />
                <!-- Opciones de Cuenta -->

                <div class="tab-pane" id="account">
                    <h6>Opciones de la Cuenta</h6>
                    <hr />
                    <form>
                        <div class="form-group">
                            <label class="d-block text-danger">Desactivar la Cuenta</label>
                            <p class="text-muted font-size-sm">
                                Una vez des clic en desactivar la cuenta y confirmes, seras redirigido a la pagina de inicio de sesion.
                                Por favor ten en cuenta que no podras volver a iniciar sesion con esta cuenta.
                            </p>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="user_status">
                                <strong>Estado de la Cuenta</strong>
                            </label>
                            <input class="form-control" type="text" id="user_status" placeholder="" name="user_status" disabled>
                        </div>

                        <button class="btn btn-danger" id="desactivarCuentabtn" type="button">
                            Desactivar Cuenta
                        </button>
                    </form>
                </div>
                <div class="tab-pane" id="security">
                    <partial name="Security" />
                </div>

                <!-- Mostrar Campo Datos Medicos de los doctores -->
                @* <div class="tab-pane" id="medicaldata">
                <partial name="DatosMedicos" />
                </div> *@
            </div>
        </div>
    </div>
</div>






@section Scripts{

    <script>


        $(document).ready(function () {
            //verifyToken();
            let uRol = sessionStorage.getItem('userRole');
            if (uRol == 2) {
                console.log("Cargando Especialidades");
                $.ajax({
                    type: 'GET',
                    url: '@ViewBag.urlEndPoint' + '/api/Generics/v1/GetSpecialities', // Ruta para crear o actualizar usuarios
                    // contentType: 'application/json',
                    success: function (response) {
                        console.log(JSON.stringify(response));
                        //console.log(JSON.parse(response));
                        redirectView(JSON.stringify(response), "#DatosEstudios");
                    }
                });
            }
        });

        function redirectView(item, element) {
            $.ajax({
                type: 'POST',
                url: '/Profile/Especialidades',
                data: item,
                contentType: 'application/json',
                success: function (response) {
                    $(element).html(response);
                }
            });
        }


    </script>
    <script>
        // Agrega un manejador de eventos para la clase "btn-en-desarrollo"
        document.addEventListener("DOMContentLoaded", function () {
            const buttons = document.querySelectorAll(".btn-en-desarrollo");

            buttons.forEach(function (button) {
                button.addEventListener("click", function () {
                    event.preventDefault();
                    Swal.fire({
                        icon: 'error',
                        title: 'Oops...',
                        text: 'Esta Funcion esta en Desarrollo!',
                        confirmButtonColor: '#008dc9'
                    })
                });
            });
        });


        // Obtén una referencia al campo de fecha de nacimiento
        const fechaNacimientoInput = document.getElementById('birthDatep');
        onChangeAgeNotification(fechaNacimientoInput);


        $(document).ready(function () {
            // Adjunta un controlador de eventos de clic al boton
            let uID = sessionStorage.getItem('userID');

            //console.log("Buscando al Usuario " + uID);

            $.ajax({
                url: sessionStorage.urlEP + '/api/Users/v1/GetUserDetails',
                type: 'GET',
                data: { 'uID': uID },
                contentType: "application/json",
                dataType: 'json',
                success: function (data) {
                    console.log("Cargando Respuesta")
                    console.log(data.itemJson);

                    if (data.itemJson === null) {
                        console.log("No se cargo correctamente el Formulario en View Profile");

                    } else {
                        // Mostrar los datos en la consola o realizar otras acciones
                        let userData = data.itemJson; // Accede al primer elemento del arreglo

                        // Llama a una funcion para actualizar el formulario con los datos recibidos
                        //console.log("Actualizando Formulario")
                        actualizarFormulario(userData);
                    }
                },
                error: function (error) {
                    console.log('Error al obtener los detalles del usuario en View Profile.');
                }
            });

            // Funcion para actualizar el formulario con los datos del usuario
            function actualizarFormulario(userData) {
                let StatusMapping = {
                    0: 'Activo',
                    1: 'Inactivo'
                };
                let fechaCompleta = userData.uBirthDate;
                let fechaSolo = null;
                if (fechaCompleta !== null) {
                    fechaSolo = fechaCompleta.split('T')[0];
                } else {
                    fechaSolo = userData.uBirthDate;
                }

                //Datos de la Cuenta
                $("#username").val(userData.uLoginName);
                $("#user_status").val(StatusMapping[userData.uStatus]);

                //Datos de Personales
                $("#user_names").val(userData.uName);
                $("#user_lastnames").val(userData.uLastName);
                $("#id_type").val(userData.dtID);
                $("#id_number").val(userData.uDocument);
                $("#birthDatep").val(fechaSolo);
                $("#genderSelect").val(userData.gID);

                //Datos de Contacto
                $("#editCorreo").val(userData.uEmailAddress);
                $("#address").val(userData.uAddress);
                $("#phone_number").val(userData.uCellphone);


                //Datos Estudios
                $("#TituloAcademico").val(userData.dDegree);
                $("#AcademicLevel").val(userData.dAcademicLevel);
                $("#Speciality").val(userData.spID);
                $("#Tarjeta_Profesional").val(userData.dProfessionalCard);
                $("#Universityname").val(userData.dUniversityName);
            }
        });


        $(".update-profile-button").click(function () {


            let updatedUserData = {
                //Datos de la Cuenta
                uID: parseInt(sessionStorage.getItem('userID')),
                utID: parseInt(sessionStorage.getItem('userRole')),
                uLoginName: $("#username").val(),
                uStatus: true,
                uIsBlock: false,
                oID: 1,
                //Datos de Personales
                uName: $("#user_names").val(),
                uLastName: $("#user_lastnames").val(),
                //dtID: parseInt($("#id_type").val()),
                //uDocument: $("#id_number").val(),
                gID: parseInt($("#genderSelect").val()),
                uBirthDate: $("#birthDatep").val(),
                //uBirthDate: formattedBirthDate,

                //Datos de Contacto
                uEmailAddress: $("#editCorreo").val(),
                uAddress: $("#address").val(),
                uCellphone: $("#phone_number").val(),

                //Datos Estudios
                dAcademicLevel: null,
                dDegree: null,
                spID: null,
                dProfessionalCard: null,
                dUniversityName: null

            }
            if (updatedUserData.utID == 2) {
                updatedUserData.dAcademicLevel = $("#AcademicLevel").val();
                updatedUserData.dDegree = $("#TituloAcademico").val();
                updatedUserData.spID = $("#Speciality").val();
                updatedUserData.dProfessionalCard = $("#Tarjeta_Profesional").val();
                updatedUserData.dUniversityName = $("#Universityname").val();
            }

            const fechaNacimientoInput = document.getElementById('birthDatep');
            const esMayorDe18 = validarEdadMayorDe18('fechaNacimientoed');

            if (updatedUserData.uName === "" || updatedUserData.uLastName === "") {
                Swal.fire({
                    text: 'Por favor, ingrese su nombre completo.',
                    confirmButtonColor: '#008dc9'
                });
            }
            
            else if (updatedUserData.uBirthDate === "") {
                Swal.fire({
                    text: 'Por favor, ingrese su fecha de nacimiento.',
                    confirmButtonColor: '#008dc9'
                });
            }
            else if (updatedUserData.gID === "Seleccionar" || updatedUserData.gID === "") {
                Swal.fire({
                    text: 'Por favor, seleccione su género.',
                    confirmButtonColor: '#008dc9'
                });
            }
            else if (updatedUserData.uAddress === "") {
                Swal.fire({
                    text: 'Por favor, ingrese su dirección.',
                    confirmButtonColor: '#008dc9'
                });
            }
            else if (updatedUserData.uCellphone === "") {
                Swal.fire({
                    text: 'Por favor, ingrese su número de celular o telefono.',
                    confirmButtonColor: '#008dc9'
                });
            } else if (updatedUserData.uEmailAddress === "") {
                Swal.fire({
                    text: 'Por favor, ingrese su correo electrónico.',
                    confirmButtonColor: '#008dc9'
                });
            } else if (updatedUserData.uLoginName === "") {
                Swal.fire({
                    text: 'Por favor, ingrese su usuario.',
                    confirmButtonColor: '#008dc9'
                });
            } else if (!esMayorDe18) {
                Swal.fire({
                    text: 'No tienes la mayoría de edad, ponte en contacto con soporte.',
                    confirmButtonColor: '#008dc9'
                });
            }
            else {
                $.ajax({
                    url: sessionStorage.urlEP + '/api/Users/v1/CreateUpdateUsers', // Reemplaza con la URL correcta
                    type: 'POST',
                    data: JSON.stringify(updatedUserData),
                    contentType: "application/json",
                    dataType: "json",
                    success: function (response) {
                        Swal.fire({
                            title: 'Datos Actualizados',
                            text: 'Los datos del usuario se actualizaron correctamente',
                            icon: 'success',
                            confirmButtonText: 'Aceptar'
                        });

                        // Realiza otras acciones después de guardar los cambios si es necesario
                    },
                    error: function () {
                        Swal.fire({
                            title: 'Error',
                            text: 'Error al guardar los cambios',
                            icon: 'error',
                            confirmButtonText: 'Aceptar'
                        });
                    }
                });
            }
        });

        function ChangeUserPass() {

            console.log("Cambiar Contrasena");
            event.preventDefault();
            let password = document.getElementById("NewPassword").value;
            let repeat_password = document.getElementById("Repeat_Password").value;

            let uID = sessionStorage.getItem('userID');;

            console.log("ID del Usuario" + uID);
            if (password === "") {
                Swal.fire({
                    text: 'Por favor, ingrese su nueva contrasena',
                    confirmButtonColor: '#008dc9'
                });
            } else if (repeat_password === "") {
                Swal.fire({
                    text: 'Por favor, ingrese la confirmacion de la contrasena nueva',
                    confirmButtonColor: '#008dc9'
                });
            } else if (password != repeat_password) {
                Swal.fire({
                    text: 'Las contrasenas deben ser iguales',
                    confirmButtonColor: '#008dc9'
                });
            } else if (!CheckUserPass(password)) {
                Swal.fire({
                    text: 'La contrasena no cumple con los requisitos.',
                    confirmButtonColor: '#008dc9'
                });
            } else {

                let data = {
                    Password: password,
                    UID: uID
                };

                $.ajax({

                    type: "POST",
                    url: sessionStorage.urlEP + '/api/Users/v1/ChangePassword',
                    //header: {'Authorization': 'Bearer ' + sessionStorage.getItem('accessToken') },
                    data: JSON.stringify(data),
                    contentType: "application/json",
                    //async: false,
                    dataType: "json",
                    success: function (response) {

                        // console.log("Solicitud exitosa. Datos enviados:", data);
                        // console.log("Respuesta del servidor:", response);
                        if (response.codeStatus == 0) {

                            //window.location.href = '@Url.Action("Index", "")';
                            Swal.fire({
                                text: 'Contrasena actualizada con exito',
                                confirmButtonColor: '#008dc9'
                            });
                        } else {

                            Swal.fire({
                                text: "Hubo un fallo" + response.messageStatus,
                                confirmButtonColor: '#008dc9'
                            });
                            //alert('Inicio de sesion fallido, ' + response.messageStatus);
                        }
                    },
                    error: function (xhr, status, error) {
                        console.log("Error.");
                    }
                });
            }
        }
        function CheckUserPass(password) {
            // Verificar la longitud de la contrasena (debe tener al menos 8 caracteres)
            if (password.length < 8) {
                return false;
            }

            // Verificar si la contrasena contiene al menos una letra minúscula y una mayúscula
            if (!/[a-z]/.test(password) || !/[A-Z]/.test(password)) {
                return false;
            }

            // Verificar si la contrasena contiene al menos un número
            if (!/\d/.test(password)) {
                return false;
            }

            // Verificar si la contrasena contiene espacios en blanco o caracteres especiales
            if (/\s/.test(password) || /[\uD800-\uDFFF]/.test(password)) {
                return false;
            }

            // Si la contrasena pasa todas las validaciones, es valida
            return true;
        }
        let userStatus = sessionStorage.getItem('userStatus');
        let StatusMapping = {
            1: 'Activa',
            0: 'Inactiva'
        };
        let Status = StatusMapping[userStatus];
        $("#user_status").val(Status);
        $("#desactivarCuentabtn").click(function () {

            // Obtén el userID del Session Storage
            let userIdd = sessionStorage.getItem('userID');
            let userNamed = sessionStorage.getItem('userFName') + " " + sessionStorage.getItem('userLName');
            // Comprueba si se tiene un userID valido
            let logoutUrl = document.getElementById("logout-link").getAttribute("data-logout-url");
            let uID = userIdd;
            let uStatus = 0;
            //Ajustar para enviar si esta inactivo activar si esta activo desactivar
            // Muestra un mensaje de confirmacion antes de desactivar el usuario

            Swal.fire({
                title: '¿Estas seguro de Desactivar tu Cuenta?',
                text: '¡ Deberas contactar un Administrador para reactivar tu cuenta !',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, desactivar',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    //console.log("Desactivar 2" + userId);
                    // Realiza la solicitud AJAX para desactivar el usuario
                    $.ajax({
                        url: sessionStorage.urlEP + '/api/Users/v1/SetUserStatus/',
                        type: 'GET',
                        data: { 'uID': uID, 'uStatus': uStatus },
                        contentType: "application/json",
                        dataType: 'json',
                        success: function (response) {
                            console.log("Respuesta del Servidor " + response);

                            Swal.fire({
                                title: 'Usuario Desactivado',
                                text: 'El usuario' + sessionStorage.getItem("userFName") + " " + sessionStorage.getItem("userLName") + 'se desactivo correctamente',
                                icon: 'success',
                                confirmButtonText: 'Aceptar'
                            });
                            sessionStorage.clear();
                            window.location.href = logoutUrl;


                        },
                        error: function () {
                            Swal.fire({
                                title: 'Error',
                                text: 'Error al deshabilitar el usuario',
                                icon: 'error',
                                confirmButtonText: 'Aceptar'
                            });
                        }
                    });
                }
            });
        });
    </script>
    <script>
        //<!-- Función para mostrar el menú de acuerdo al rol del usuario -->
        $(document).ready(function () {
            let userRole = sessionStorage.getItem('userRole');
            mostrarElementosPorRol(userRole);
        });
        $(document).ready(function () {
            let userRole = sessionStorage.getItem('userRole');
            if (userRole == 2) {
                $("#DatosEstudios").show();
            } else {
                $("#DatosEstudios").show();
            }
        });
    </script>



    @* <script src="~/assets/js/profile/profileutilities.js" charset="utf-8"></script> *@
    @*  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
            crossorigin="anonymous"></script> *@
    <script src="~/assets/js/popper.js"></script>
    <script src="~/assets/js/bootstrap.min.js"></script>
    <script src="~/assets/js/theme.js"></script>
    <script type="text/javascript"></script>

}
